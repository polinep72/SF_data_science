
Март, 2024. 

Цель проекта: помочь клиенту повысить прибыль от допродаж в интернет-магазине. Пожелание - получить увеличение прибыли на 20 %.


На основе данных строим рекомендательную систему, получающую на вход id пользователя. 
Система должна предложить 3 id-товаров, которые этот пользователь наиболее вероятно купит сразу или положит в корзину.

Входные данные: 

	events — датасет с событиями.
		timestamp — время события
		visitorid — идентификатор пользователя
		event — тип события
		itemid — идентификатор объекта
		transactionid — идентификатор транзакции, если она проходила

	category_tree — файл с деревом категорий.
		category_id — идентификатор категорий
		parent_id — идентификатор родительской категории

	item_properties — файл с свойствами товаров.
		timestamp — момент записи значения свойства
		item_id — идентификатор объекта
		property — свойство, кажется, они все, кроме категории, захешированы
		value — значение свойства

Трансформации: 

	- Выделены топ-10 пользователей и товаров, что может быль использовано в дальнейшем для формирования рекомендаций.
	- построены признаки диверсификации для пользователей и товаров, 
 	- выделены топ признаков товаров. 
	- Временные метки преобразованы, выделены периоды покупательской активности по дням, времени суток и часам, 
        что помогло наглядно увидеть паттерны поведения пользователей.
	- Выведен баланс типов событий по всему набору данных.

Валидация:

	построена с разбиением по времени, в пропорции 20/80 test/train.

Метрики: 

    Выбрана метрика precision@3. (Модели оценивались по этой метрике)

Экспериментальные модели: 

	Surprise: 
		KNNWithMeans() 
		метрики:
		precision@3: 0.0001523660267293544 recall@3: 4.57684846060943e-06
        наименьшее значение метрики, черезвычайно долгая сходимость. 

		SVD(n_factors=10, n_epochs=20, lr_all=0.002, reg_all=0.1)
		метрики:
		precision@3: 0.005223978059292151 recall@3: 0.00019313015593818672
        модель использована для построения текущей версии рекомендательной системы, обернутой в docker.
	
	Lighfm:
		LightFM(no_components=10, loss='warp', random_state=42)
		precision_at_3:0.026970956
        Самое высокое значение метрики, на основе этой модели в дальнейшем будет проведено обновление рекомендательной системы.


Docker image: 
    * Откройте командную строку или терминал.
	* Выполните команду:
	>> docker pull skrilen/my_private_repo:latest
	Если контейнер успешно запущен, вы будете перенаправлены в его внутреннюю оболочку или командную строку.

	http://127.0.0.1:5000/  - по этому адресу сервер будет запущен, при успешном запуске выведется приветственное 
                              сообщение.
	http://127.0.0.1:5000/predict - при переходе по этому адресу нужно ввести в терминале ид-номер пользователя, к примеру, 
                                542702. В терминале и на странице будут выведены ид рекомендованных товаров.

Файлы: 

    в zip-файле вложены:
        рабочий ноутбук: 
         - workbook.ipynb
        презентация к проекту:
         - Дипломный проект.pptx
        каталог с файлами docker docker_container:
         - каталог src: 
            - app: содержит датасет events.csv, скрипт server.py, 
                    обученную модель SVD (удалена, по причине ограничения GitHub размера файлов). 
                    Для построения образа поместите обученную модель с названием SVD_model.pickle в этот каталог.
            - dockerfile 
            - requirements.txt, список библиотек, необходимых для построения образа.
